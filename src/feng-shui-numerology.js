/**
 * Feng Shui & Cosmic Energy Numerology
 */

export const FENG_SHUI_NUMEROLOGY = {
  house_number_analysis: {
    1: {
      energy_type: '🔥 Dương - Năng lượng Tiên ph�ong Tích cực',
      personality: '🏠 Ngôi nhà độc lập, tập trung vào lãnh đạo và đổi mới sáng tạo',
      feng_shui_meaning: '🌟 Tân khí mạnh mẽ, cực kỳ phù hợp cho những người khởi nghiệp và lập nghiệp',
      best_for: [
        '👔 Các doanh nhân và chủ doanh nghiệp tham vọng',
        '🚀 Những người đang bắt đầu công việc kinh doanh mới',
        '💪 Người độc thân đang xây dựng sự độc lập tài chính',
        '👑 Các nhà lãnh đạo và những cá nhân có tham vọng lớn'
      ],
      challenges: [
        '⚡ Có thể có quá nhiều năng lượng cạnh tranh trong nhà',
        '👨‍👩‍👧‍👦 Khó khăn trong việc duy trì sự hòa hợp gia đình',
        '🏝️ Cô lập vì quá tập trung vào thành công cá nhân',
        '🤼‍♂️ Xung đột cái tôi giữa các thành viên trong nhà'
      ],
      feng_shui_remedies: [
        '💧 Thêm các yếu tố nước (thác nước, bể cá) để cân bằng cảm xúc',
        '⭕ Sử dụng các hình dạng tròn để làm dịu năng lượng sắc bén',
        '📸 Đặt ảnh gia đình trong các khu vực sinh hoạt chung',
        '🌱 Thêm các yếu tố đất (cây cối, đá quý) để tạo sự ổn định'
      ],
      lucky_colors: ['🔴 Đỏ quyền lực', '🟠 Cam năng động', '🟡 Vàng thịnh vượng'],
      unlucky_colors: ['⚫ Đen u ám', '🔵 Xanh đậm trầm lắng'],
      element: '🔥 Hỏa - Nguyên tố năng lượng và nhiệt huyết',
      direction: '🧭 Hướng Nam - Hướng của danh tiếng và thành công'
    },

    2: {
      energy_type: '☯️ Âm - Năng lượng Đối tác Tiếp nhận',
      personality: '🏠 Ngôi nhà hài hòa, hợp tác, tập trung vào mối quan hệ',
      feng_shui_meaning: '🌸 Âm khí hài hòa, hoàn hảo cho gia đình và các cặp đôi',
      best_for: [
        '💑 Các cặp vợ chồng mới cưới',
        '👨‍👩‍👧‍👦 Gia đình có con nhỏ',
        '🩺 Những người trong nghề chữa lành',
        '⚖️ Những người tìm kiếm sự cân bằng cảm xúc'
      ],
      challenges: [
        '😴 Có thể thiếu năng lượng năng động cho tăng trưởng',
        '🤷‍♀️ Xu hướng thụ động trong các quyết định',
        '😔 Khả năng phụ thuộc cảm xúc',
        '🤔 Khó khăn trong việc đưa ra quyết định'
      ],
      feng_shui_remedies: [
        '⚙️ Thêm các yếu tố kim loại để tăng sự rõ ràng',
        '👫 Sử dụng các đồ vật theo cặp (2 nến, 2 gối)',
        '🪞 Đặt gương để tăng cường luồng năng lượng',
        '🔥 Thêm một số yếu tố hỏa để tạo động lực'
      ],
      lucky_colors: ['🌸 Hồng dịu dàng', '⚪ Trắng tinh khôi', '🥈 Bạc sáng'],
      unlucky_colors: ['🔴 Đỏ gay gắt', '🟠 Cam rực rỡ'],
      element: '⚙️ Kim/Thổ - Yếu tố ổn định và tinh tế',
      direction: '🧭 Hướng Tây Nam - Hướng của tình yêu và quan hệ đối tác'
    },

    3: {
      energy_type: '🔥 Dương - Năng lượng Biểu đạt Sáng tạo',
      personality: '🎨 Ngôi nhà nghệ thuật, giao tiếp, đầy niềm vui',
      feng_shui_meaning: '✨ Sáng tạo và giao tiếp, lý tưởng cho các nghệ sĩ',
      best_for: [
        '🎨 Nghệ sĩ, nhà văn, chuyên gia sáng tạo',
        '👨‍👩‍👧‍👦 Gia đình có con tuổi teen',
        '🎉 Những người hay tổ chức tiệc tùng xã hội',
        '📢 Doanh nghiệp truyền thông'
      ],
      challenges: [
        '🌪️ Có thể có năng lượng rải rác',
        '💸 Chi tiêu quá mức cho vẻ đẹp/xa xỉ',
        '🗣️ Tin đồn và vấn đề giao tiếp',
        '😵‍💫 Thiếu tập trung vào các vấn đề thực tế'
      ],
      feng_shui_remedies: [
        '🎯 Tổ chức không gian sáng tạo một cách phù hợp',
        '🌍 Thêm các yếu tố đất để có nền tảng vững chắc',
        '🪵 Sử dụng nội thất gỗ để tạo cấu trúc',
        '📚 Đặt khu vực học tập ở hướng Đông'
      ],
      lucky_colors: ['🌿 Xanh lá tươi mới', '🤎 Nâu đất', '🟡 Vàng rực rỡ'],
      unlucky_colors: ['⚪ Trắng lạnh lẽo', '🥈 Bạc kim loại'],
      element: '🌳 Mộc - Yếu tố tăng trưởng và sáng tạo',
      direction: '🧭 Hướng Đông - Hướng của sự khởi đầu và phát triển'
    },

    4: {
      energy_type: '🏗️ Âm - Năng lượng Nền tảng Ổn định',
      personality: '🏠 Ngôi nhà thực tế, chăm chỉ, có phương pháp',
      feng_shui_meaning: '🏛️ Ổn định và thực tế, tốt cho an ninh lâu dài',
      best_for: [
        '👨‍👩‍👧‍👦 Gia đình truyền thống',
        '🏦 Những người trong lĩnh vực ngân hàng/tài chính',
        '💰 Những người xây dựng tài sản lâu dài',
        '🛡️ Các cá nhân bảo thủ'
      ],
      challenges: [
        '😔 Có thể cảm thấy quá hạn chế',
        '🚫 Thiếu sự tự phát',
        '😰 Cách tiếp cận quá thận trọng',
        '❌ Chống lại sự thay đổi'
      ],
      feng_shui_remedies: [
        '⚙️ Thêm các yếu tố kim loại để có độ chính xác',
        '⬛ Sử dụng các hình vuông/hình chữ nhật',
        '📦 Tổ chức lưu trữ hiệu quả',
        '💧 Thêm các đặc điểm nước nhỏ để tạo luồng'
      ],
      lucky_colors: ['🔵 Xanh dương ổn định', '⚫ Đen mạnh mẽ', '🟢 Xanh lá an toàn'],
      unlucky_colors: ['🔴 Đỏ náo động', '🟣 Tím bất ổn'],
      element: '🌳 Mộc/Thổ - Yếu tố tăng trưởng vững chắc',
      direction: '🧭 Hướng Đông Nam - Hướng của sự thịnh vượng và ổn định'
    },

    5: {
      energy_type: '⚡ Dương - Năng lượng Thay đổi Năng động',
      personality: '🏠 Ngôi nhà phiêu lưu, linh hoạt, xã hội',
      feng_shui_meaning: '🌪️ Biến động và tự do, thú vị nhưng không ổn định',
      best_for: [
        '👨‍💼 Chuyên gia trẻ',
        '✈️ Du khách và nomad',
        '📈 Những người trong bán hàng/marketing',
        '🦋 Những người xã hội'
      ],
      challenges: [
        '😵‍💫 Thiếu sự ổn định',
        '📦 Thường xuyên di chuyển/thay đổi',
        '🌱 Khó khăn trong việc xây dựng gốc rễ',
        '💸 Bất ổn tài chính'
      ],
      feng_shui_remedies: [
        '🌍 Thêm các yếu tố đất để có nền tảng',
        '🪑 Sử dụng nội thất nặng để tạo sự ổn định',
        '💎 Đặt pha lê ở trung tâm của ngôi nhà',
        '🧘‍♂️ Tạo các không gian yên tĩnh được chỉ định'
      ],
      lucky_colors: ['🟡 Vàng năng động', '🤎 Nâu đất', '🟠 Cam sáng'],
      unlucky_colors: ['🟢 Xanh lá trì trệ', '🔵 Xanh dương tĩnh lặng'],
      element: '🌍 Thổ - Yếu tố ổn định và trung tâm',
      direction: '🧭 Hướng Trung tâm - Điểm cân bằng của tất cả năng lượng'
    },

    6: {
      energy_type: '💝 Âm - Năng lượng Gia đình Nuôi dưỡng',
      personality: '🏠 Ngôi nhà quan tâm, có trách nhiệm, tập trung vào gia đình',
      feng_shui_meaning: '👨‍👩‍👧‍👦 Chăm sóc và trách nhiệm, hoàn hảo cho cuộc sống gia đình',
      best_for: [
        '👨‍👩‍👧‍👦 Gia đình đông con',
        '👩‍⚕️ Chuyên gia chăm sóc sức khỏe',
        '👩‍🏫 Giáo viên và người chăm sóc',
        '👴👵 Cư dân lớn tuổi'
      ],
      challenges: [
        '😔 Có thể quá tập trung vào người khác',
        '🤷‍♀️ Bỏ qua nhu cầu cá nhân',
        '🛡️ Môi trường quá bảo vệ',
        '🚫 Khó khăn trong việc đặt ranh giới'
      ],
      feng_shui_remedies: [
        '⚖️ Cân bằng với các yếu tố kim loại',
        '🚪 Tạo không gian cá nhân cho từng thành viên',
        '⚪ Sử dụng màu trắng/kim loại',
        '🪞 Thêm gương để mở rộng góc nhìn'
      ],
      lucky_colors: ['⚪ Trắng tinh khôi', '🥇 Vàng kim', '🥈 Bạc sáng'],
      unlucky_colors: ['🔴 Đỏ gay gắt', '⚫ Đen u ám'],
      element: '⚙️ Kim - Yếu tố tinh tế và sắc bén',
      direction: '🧭 Hướng Tây Bắc - Hướng của người cha và lãnh đạo'
    },

    7: {
      energy_type: '🔮 Âm - Năng lượng Tâm linh Huyền bí',
      personality: '🏠 Ngôi nhà hướng nội, tâm linh, bí ẩn',
      feng_shui_meaning: '🧘‍♂️ Tâm linh và trí tuệ, tốt cho thiền định',
      best_for: [
        '🧘‍♂️ Người thực hành tâm linh',
        '🔬 Nhà nghiên cứu và học giả',
        '🤫 Cá nhân hướng nội',
        '✨ Những người tìm kiếm sự giác ngộ'
      ],
      challenges: [
        '🏝️ Có thể cảm thấy bị cô lập khỏi thế giới',
        '💸 Thiếu thành công vật chất',
        '🤔 Quá nhiều sự hướng nội',
        '🤷‍♂️ Khó khăn với các vấn đề thực tế'
      ],
      feng_shui_remedies: [
        '🔥 Thêm các yếu tố hỏa để có năng lượng',
        '💡 Sử dụng ánh sáng sáng',
        '🔴 Đặt các vật màu đỏ ở hướng Nam',
        '👥 Tạo không gian tập hợp xã hội'
      ],
      lucky_colors: ['🔴 Đỏ năng lượng', '🟣 Tím huyền bí', '🌸 Hồng tâm linh'],
      unlucky_colors: ['🟢 Xanh lá trì trệ', '🤎 Nâu nặng nề'],
      element: '🔥 Hỏa - Yếu tố năng lượng và giác ngộ',
      direction: '🧭 Hướng Nam - Hướng của ánh sáng và sự nổi tiếng'
    },

    8: {
      energy_type: '⚡ Dương - Năng lượng Thành công Vật chất',
      personality: '🏠 Ngôi nhà tham vọng, giàu có, tập trung vào quyền lực',
      feng_shui_meaning: '💰 Thịnh vượng và quyền lực, hoàn hảo cho kinh doanh',
      best_for: [
        '💼 Các nhà điều hành doanh nghiệp',
        '👨‍💼 Gia đình giàu có',
        '🎯 Chuyên gia tham vượng',
        '📈 Cá nhân tập trung đầu tư'
      ],
      challenges: [
        '💸 Có thể trở nên quá vật chất',
        '💔 Bỏ qua các mối quan hệ',
        '😰 Căng thẳng từ kỳ vọng cao',
        '⚖️ Bài học nghiệp về quyền lực'
      ],
      feng_shui_remedies: [
        '🌊 Thêm đặc điểm nước để có trí tuệ',
        '⚫ Sử dụng màu đen/xanh đậm',
        '💰 Đặt biểu tượng thịnh vượng ở hướng Đông Nam',
        '🧘‍♂️ Cân bằng với các yếu tố tâm linh'
      ],
      lucky_colors: ['⚫ Đen quyền lực', '🔵 Xanh đậm', '🟡 Vàng thịnh vượng'],
      unlucky_colors: ['🟢 Xanh lá', '🤎 Nâu'],
      element: '🌊 Thủy - Yếu tố trí tuệ và thịnh vượng',
      direction: '🧭 Hướng Bắc - Hướng của sự nghiệp và trí tuệ'
    },

    9: {
      energy_type: '🌈 Dương - Năng lượng Tình yêu Vũ trụ',
      personality: '🏠 Ngôi nhà nhân đạo, khôn ngoan, tập trung vào hoàn thành',
      feng_shui_meaning: '🤝 Hoàn thành và từ thiện, tốt cho dịch vụ cộng đồng',
      best_for: [
        '🤲 Nhân viên nhân đạo',
        '👴👵 Cá nhân lớn tuổi/khôn ngoan',
        '🔄 Những người trong giai đoạn chuyển tiếp',
        '💝 Người định hướng dịch vụ'
      ],
      challenges: [
        '🎁 Có thể cho đi quá nhiều',
        '💰 Khó khăn tích lũy vật chất',
        '💭 Cường độ cảm xúc',
        '🔄 Thường xuyên kết thúc/bắt đầu'
      ],
      feng_shui_remedies: [
        '🌱 Thêm yếu tố gỗ để phát triển',
        '🟢 Sử dụng màu xanh lá để cân bằng',
        '🪴 Đặt cây khắp nhà',
        '🧘‍♂️ Tạo không gian cho cả việc cho và nhận'
      ],
      lucky_colors: ['🟢 Xanh lá phát triển', '🤎 Nâu đất', '🔵 Xanh dương ổn định'],
      unlucky_colors: ['🔴 Đỏ kích động', '🟠 Cam căng thẳng'],
      element: '🌳 Mộc - Yếu tố phát triển và sự sống',
      direction: '🧭 Hướng Đông - Hướng của sự khởi đầu mới'
    }
  },

  cosmic_number_energies: {
    sun_number: {
      calculation: '☀️ Ngày sinh rút gọn thành số đơn',
      cosmic_influence: '🌟 Tính cách cốt lõi và năng lượng sức sống',
      feng_shui_application: '🧭 Xác định hướng quyền lực cá nhân',
      enhancement_tips: [
        '☀️ Đặt biểu tượng mặt trời theo hướng cá nhân',
        '🎨 Sử dụng màu sắc liên quan đến số mặt trời',
        '⚡ Kích hoạt góc quyền lực dựa trên số'
      ]
    },

    moon_number: {
      calculation: '🌙 Tháng sinh rút gọn thành số đơn',
      cosmic_influence: '💭 Bản chất cảm xúc và các mẫu hình tiềm thức',
      feng_shui_application: '🛏️ Ảnh hưởng đến phòng ngủ và không gian cảm xúc',
      enhancement_tips: [
        '🌙 Sử dụng màu số mặt trăng trong phòng ngủ',
        '🌊 Đặt đặc điểm nước theo số mặt trăng',
        '💝 Tăng cường khu vực cảm xúc với các yếu tố tương ứng'
      ]
    },

    earth_number: {
      calculation: '🌍 Năm sinh rút gọn thành số đơn',
      cosmic_influence: '🏔️ Cách tiếp cận thế giới vật chất và bài học cuộc sống',
      feng_shui_application: '🏠 Ảnh hưởng đến năng lượng tổng thể của ngôi nhà',
      enhancement_tips: [
        '🌍 Sử dụng các yếu tố số trái đất khắp nhà',
        '🪑 Sắp xếp nội thất theo mẫu số trái đất',
        '🏡 Chọn vị trí nhà dựa trên khả năng tương thích số trái đất'
      ]
    }
  },

  flying_star_numerology: {
    annual_numbers: {
      2024: {
        flying_star: 4,
        element: '🌳 Mộc',
        meaning: '📚 Thành công học thuật, hoạt động văn chương, tình yêu',
        feng_shui_focus: '🎓 Giáo dục, viết lách, hoạt động nghệ thuật',
        enhancement: '💧 Yếu tố nước, cây cối, màu xanh lá',
        precautions: '⚠️ Tránh yếu tố kim loại ở hướng Đông'
      },
      2025: {
        flying_star: 3,
        element: '🌳 Mộc',
        meaning: '⚔️ Tranh chấp, vấn đề pháp lý, cạnh tranh',
        feng_shui_focus: '🤝 Giải quyết xung đột, bảo vệ pháp lý',
        enhancement: '🔥 Yếu tố hỏa, màu đỏ, đèn',
        precautions: '⚠️ Tránh yếu tố nước, giữ hướng Đông yên tĩnh'
      }
    },

    monthly_calculations: {
      formula: '🧮 (Sao Bay Hàng Năm + Số Tháng - 1) % 9 + 1',
      application: '📅 Điều chỉnh năng lượng hàng tháng',
      timing: '⏰ Thời điểm tốt nhất cho các quyết định quan trọng'
    }
  },

  bagua_number_mapping: {
    sectors: {
      1: {
        bagua_area: '💼 Sự nghiệp',
        direction: '🧭 Bắc',
        element: '🌊 Thủy',
        colors: ['⚫ Đen', '🔵 Xanh đậm'],
        enhancements: '💧 Đặc điểm nước, gương, vật màu đen',
        number_meanings: '🦅 Độc lập, khởi đầu sự nghiệp, những khởi đầu mới'
      },
      2: {
        bagua_area: '💕 Các mối quan hệ',
        direction: '🧭 Tây Nam',
        element: '🌍 Thổ',
        colors: ['🌸 Hồng', '🔴 Đỏ', '🟡 Vàng'],
        enhancements: '👫 Các vật thành đôi, yếu tố đất, vật màu hồng/đỏ',
        number_meanings: '🤝 Quan hệ đối tác, hợp tác, các mối quan hệ tình yêu'
      },
      3: {
        bagua_area: '👨‍👩‍👧‍👦 Gia đình',
        direction: '🧭 Đông',
        element: '🌳 Mộc',
        colors: ['🟢 Xanh lá', '🤎 Nâu'],
        enhancements: '🪴 Cây cối, đồ nội thất gỗ, ảnh gia đình',
        number_meanings: '🌱 Phát triển, giao tiếp, thể hiện sáng tạo'
      },
      4: {
        bagua_area: '💰 Tài lộc',
        direction: '🧭 Đông Nam',
        element: '🌳 Mộc',
        colors: ['🟢 Xanh lá', '🟣 Tím'],
        enhancements: '🪴 Cây cối, vật màu tím, biểu tượng thịnh vượng',
        number_meanings: '📈 Tăng trưởng ổn định, kế hoạch dài hạn, sự ổn định'
      },
      5: {
        bagua_area: '🏥 Sức khỏe',
        direction: '🧭 Trung tâm',
        element: '🌍 Thổ',
        colors: ['🟡 Vàng', '🤎 Nâu'],
        enhancements: '💎 Pha lê, vật đất, vật màu vàng',
        number_meanings: '🔄 Thay đổi, tự do, thách thức sức khỏe'
      },
      6: {
        bagua_area: '🤝 Quý nhân',
        direction: '🧭 Tây Bắc',
        element: '⚪ Kim',
        colors: ['🤍 Trắng', '🟡 Vàng', '🔘 Bạc'],
        enhancements: '⚪ Vật kim loại, hình tròn, vật màu trắng/vàng',
        number_meanings: '🛡️ Trách nhiệm, phục vụ, các kết nối hữu ích'
      },
      7: {
        bagua_area: '🎨 Con cái/Sáng tạo',
        direction: '🧭 Tây',
        element: '⚪ Kim',
        colors: ['🤍 Trắng', '🔘 Kim loại'],
        enhancements: '⚪ Vật kim loại, tác phẩm nghệ thuật của trẻ em, công cụ sáng tạo',
        number_meanings: '🔮 Thấu hiểu tâm linh, cảm hứng sáng tạo, phân tích'
      },
      8: {
        bagua_area: '📚 Tri thức',
        direction: '🧭 Đông Bắc',
        element: '🌍 Thổ',
        colors: ['🔵 Xanh dương', '🟢 Xanh lá', '⚫ Đen'],
        enhancements: '📖 Sách vở, pha lê, vật phẩm thiền định',
        number_meanings: '🏆 Thành tựu vật chất, thành công, bài học nghiệp'
      },
      9: {
        bagua_area: '🌟 Danh tiếng',
        direction: '🧭 Nam',
        element: '🔥 Hỏa',
        colors: ['🔴 Đỏ', '🟠 Cam'],
        enhancements: '💡 Đèn, nến, vật màu đỏ, giải thưởng',
        number_meanings: '🏅 Sự công nhận, hoàn thành, dịch vụ nhân đạo'
      }
    }
  }
};

export const COSMIC_CALCULATIONS = {
  calcPersonalFengShuiNumber: (birthDate) => {
    const [day, month, year] = birthDate.split('/').map(Number);
    const lifePath = reduceToSingleDigit(day + month + year);
    return lifePath;
  },

  calcHouseCompatibility: (houseNumber, personalNumber) => {
    const compatibility = {
      1: [1, 3, 5, 6, 7, 8, 9],
      2: [1, 2, 4, 6, 8, 9],
      3: [1, 3, 5, 6, 7, 9],
      4: [2, 4, 6, 7, 8],
      5: [1, 3, 5, 7, 9],
      6: [1, 2, 3, 4, 6, 8, 9],
      7: [1, 3, 4, 5, 7, 9],
      8: [1, 2, 4, 6, 8],
      9: [1, 2, 3, 5, 6, 7, 9]
    };

    return compatibility[personalNumber]?.includes(houseNumber) || false;
  },

  calcBestMovingDate: (personalNumber, targetMonth, targetYear) => {
    // Calculate most auspicious dates based on personal number
    const dates = [];
    const daysInMonth = new Date(targetYear, targetMonth, 0).getDate();
    
    for (let day = 1; day <= daysInMonth; day++) {
      const dateNum = reduceToSingleDigit(day + targetMonth + targetYear);
      if (dateNum === personalNumber || 
          (personalNumber + dateNum) % 9 === 1 || 
          (personalNumber + dateNum) % 9 === 0) {
        dates.push(day);
      }
    }
    
    return dates;
  },

  calcDirectionalLuck: (personalNumber) => {
    const directions = {
      1: { best: '🧭 Nam', good: ['🧭 Đông', '🧭 Đông Nam'], avoid: '🧭 Bắc' },
      2: { best: '🧭 Tây Nam', good: ['🧭 Tây Bắc', '🧭 Tây'], avoid: '🧭 Đông Bắc' },
      3: { best: '🧭 Đông', good: ['🧭 Nam', '🧭 Đông Nam'], avoid: '🧭 Tây' },
      4: { best: '🧭 Đông Nam', good: ['🧭 Đông', '🧭 Nam'], avoid: '🧭 Tây Bắc' },
      5: { best: '🧭 Trung tâm', good: ['🧭 Tây Nam', '🧭 Đông Bắc'], avoid: '🧭 Tất cả các cực' },
      6: { best: '🧭 Tây Bắc', good: ['🧭 Tây', '🧭 Tây Nam'], avoid: '🧭 Đông' },
      7: { best: '🧭 Tây', good: ['🧭 Tây Bắc', '🧭 Tây Nam'], avoid: '🧭 Đông' },
      8: { best: '🧭 Đông Bắc', good: ['🧭 Tây Bắc', '🧭 Trung tâm'], avoid: '🧭 Nam' },
      9: { best: '🧭 Nam', good: ['🧭 Đông', '🧭 Đông Nam'], avoid: '🧭 Bắc' }
    };
    
    return directions[personalNumber];
  }
};

function reduceToSingleDigit(num) {
  while (num > 9 && num !== 11 && num !== 22 && num !== 33) {
    num = num.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);
  }
  return num;
}
